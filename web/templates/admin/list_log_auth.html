<div class="l-center">
  <div class="l-sort clearfix noselect">
    <div class="l-unit-toolbar__buttonstrip">
      <a href="/list/log/" id="btn-back" class="ui-button cancel" dir="ltr"><i class="fas fa-arrow-left status-icon blue"></i><?=_('Back')?></a>
    </div>
    <div class="l-unit-toolbar__buttonstrip float-right">
      <a href="javascript:location.reload();" class="ui-button cancel" dir="ltr"><i class="fas fa-redo status-icon green"></i><?=_('Refresh')?></a>
      <div class="actions-panel display-inline-block" key-action="js">
        <a class="data-controls do_delete ui-button danger cancel">
          <i class="do_delete fas fa-times-circle status-icon red"></i><?=_('Delete')?>
          <input type="hidden" name="delete_url" value="/delete/log/auth/?token=<?=$_SESSION['token']?>" />
            <div class="confirmation-text-delete hidden" title="<?=_('Confirmation')?>">
              <p class="confirmation"><?=_('DELETE_LOGS_CONFIRMATION')?></p>
            </div>
        </a>
      </div>
    </div>
  </div>
</div>

<div class="l-separator"></div>

<div class="l-center units">
<div class="header table-header">     
    <div class="l-unit__col l-unit__col--right">
      <div class="clearfix l-unit__stat-col--left super-compact">
        &nbsp;
      </div>
      <div class="clearfix l-unit__stat-col--left super-compact">
        &nbsp;
      </div>
      <div class="clearfix l-unit__stat-col--left super-compact">
        &nbsp;
      </div>
      <div class="clearfix l-unit__stat-col--left small"><b><?php print _('Date');?></b></div>
      <div class="clearfix l-unit__stat-col--left"><b><?php print _('Time');?></b></div>
      <div class="clearfix l-unit__stat-col--left"><b><?php print _('IP address');?></b></div>
    </div>
  </div> 
<?php
  foreach ($data as $key => $value) {
    ++$i;
  ?>
  <div class="l-unit header animated fadeIn">
    <div class="l-unit__col l-unit__col--right">
      <div class="clearfix l-unit__stat-col--left super-compact">
        <? if ($data[$key]['ACTION'] == 'login') { ?>
          <i class="fas fa-sign-in-alt status-icon dim icon-pad-right" title="<?=_('Login')?>"></i>
        <? } ?>
      </div>
      <div class="clearfix l-unit__stat-col--left super-compact">
        <? if ($data[$key]['STATUS'] == 'success') { ?>
          <i class="fas fa-check-circle status-icon green icon-pad-right" title="<?=_('Success')?>"></i>
        <? } else {?>
          <i class="fas fa-minus-circle status-icon red icon-pad-right" title="<?=_('Failed')?>"></i>
        <? } ?>
      </div>
      <div class="clearfix l-unit__stat-col--left super-compact">
        <? if ($data[$key]['STATUS'] === 'failed') {?>
          <!-- Do not display session status as login was never active-->
          &nbsp;
          <? } else {?>
            <? if ($data[$key]['ACTIVE'] === 'yes') {?>
              <i class="fas fa-user-circle status-icon dim icon-pad-right" title="<?=_('Active Session')?>"></i>
            <? } else {?>
              <!-- Do not display indicator for non-active sessions -- note: whitespace char required to pad cell at this time -->
              &nbsp;
            <? } ?>
          <? } ?>
      </div>
      <div class="clearfix l-unit__stat-col--left small"><b><?=translate_date($data[$key]['DATE'])?></b></div>
      <div class="clearfix l-unit__stat-col--left"><b><?=$data[$key]['TIME']?></b></div>
      <div class="clearfix l-unit__stat-col--left"><?=$data[$key]['IP']?></div>
    </div>
  </div>
<?}?>

</div>

<div id="vstobjects">
  <div class="l-separator"></div>
  <div class="l-center">
    <div class="l-unit-ft">
      <table class='data'></table>
      <div class="data-count l-unit_col l-unit_col--right clearfix">
        <?
          printf(ngettext('%d log record', '%d log records', $i),$i);
        ?>
      </div>
    </div>
  </div>
</div>